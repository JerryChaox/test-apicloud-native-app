(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-228ddbfc"],{"2b89":function(t,a,e){},"2c92":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isWechat?t._e():e("div",{staticClass:"header"},[e("div",{staticClass:"header_body"},[e("span",{staticClass:"goBack",on:{click:t.goBack}},[e("van-icon",{attrs:{name:"arrow-left"}})],1),e("div",{staticClass:"flex-vertical-centering"},[e("p",{staticClass:"textEllipsis"},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?e("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},i=[],r={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{goBack:function(){api.historyBack({frameName:""},function(t,a){t.status||this.$router.go(-1)})},shareSheet:function(){this.$emit("shareSheet")}}},n=r,c=(e("a125"),e("2877")),o=Object(c["a"])(n,s,i,!1,null,"3efa7418",null);a["a"]=o.exports},"500b":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("top-msg",{attrs:{"header-name":"更换银行卡"}}),e("div",{staticClass:"con_body"},[e("div",{staticClass:"cards_list"},[e("div",{staticClass:"cards_head"},["cashCard"==t.type?e("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张借记卡")]):e("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张贷记卡")])]),e("div",{staticClass:"list_items"},[t._l(t.cardMsg,function(a,s){return e("div",{key:s,class:"cashCard"==t.type?"list_item2 flex flex_alCen":"list_item flex flex_alCen",on:{click:function(e){return t.selectThisCard(a.id)}}},[t.currentCard===a.id?e("i",{staticClass:"icon_select"}):t._e(),e("div",{staticClass:"card_logo w25"},[a.bank_info.bank_logo_image?e("img",{attrs:{src:a.bank_info.bank_logo_image.url}}):t._e()]),e("div",{staticClass:"flex1 lineheight70"},[e("h5",{staticClass:"colorfff size30"},[t._v("\n              "+t._s(a.bank_info.name)+"\n            ")]),e("p",{staticClass:"colorfff size36 textEllipsis"},[t._v("\n              "+t._s("**** **** *** "+a.card_info.card_no.substr(a.card_info.card_no.length-4))+"\n            ")])])])}),"cashCard"==t.type?e("div",{staticClass:"card_add"},[e("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCard",query:{status:"add"}}}},[e("div",{staticClass:"flex-row-center"},[e("i",{staticClass:"iconfont icon-tianjiajihua"}),e("span",[t._v("添加借记卡")])])])],1):e("div",{staticClass:"card_add"},[e("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCreditCard",query:{status:"add"}}}},[e("div",{staticClass:"flex-row-center"},[e("i",{staticClass:"iconfont icon-tianjiajihua"}),e("span",[t._v("添加贷记卡")])])])],1)],2)])])],1)},i=[],r=e("2c92");function n(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},s=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.forEach(function(a){c(t,a,e[a])})}return t}function c(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var o={name:"ChangeCard",components:{topMsg:r["a"]},data:function(){return{currentCard:this.$util.getQueryVariable("id")?this.$util.getQueryVariable("id"):"",type:this.$util.getQueryVariable("type"),cardMsg:""}},computed:{cardType:function(){return"cashCard"===this.type?"DEBIT":"CREDIT"}},created:function(){this.thisTitle(),this.getCardListFun()},methods:{thisTitle:function(){document.title="更换银行卡"},gotoEditCreditCard:function(){this.$router.push({path:"/addCreditCard",query:{status:"edit"}})},gotoEditCard:function(){this.$router.push({path:"/addCard",query:{status:"edit"}})},gotoAddCard:function(){0===this.currentNav?this.$router.push({path:"/addCard",query:{status:"add"}}):1===this.currentNav&&this.$router.push({path:"/addCreditCard",query:{status:"add"}})},getCardListFun:function(){var t=this,a="cashCard"===t.type?"DEBIT":"CREDIT";t.$api.card.getCardList(a).then(function(a){console.log(a),t.cardMsg=a.data.data}).catch(function(t){console.log(t)})},selectThisCard:function(t){var a=this;this.currentCard=t;var e=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"请稍候..."});this.$api.card.getCard(this.cardType,t).then(function(t){var e={id:t.data.data.id,card_info:n({},t.data.data),bank_info:t.data.data.bank_info};"cashCard"===a.type?a.$store.commit("SET_CURRENT_DEBIT_CARD",e):"creditCard"===a.type&&a.$store.commit("SET_CURRENT_CREDIT_CARD",e),a.$router.go(-1)}).finally(function(){e.clear()})}}},d=o,l=(e("d075"),e("2877")),u=Object(l["a"])(d,s,i,!1,null,"c0ea6794",null);a["default"]=u.exports},a125:function(t,a,e){"use strict";var s=e("cc0b"),i=e.n(s);i.a},cc0b:function(t,a,e){},d075:function(t,a,e){"use strict";var s=e("2b89"),i=e.n(s);i.a}}]);