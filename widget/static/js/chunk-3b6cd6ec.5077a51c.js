(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b6cd6ec"],{"2c92":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isWechat?e._e():a("div",{staticClass:"header"},[a("div",{staticClass:"header_body"},[a("span",{staticClass:"goBack",on:{click:e.goBack}},[a("van-icon",{attrs:{name:"arrow-left"}})],1),a("p",[e._v(e._s(e.headerName))]),e.shareShow?a("span",{staticClass:"shareSheet",on:{click:e.shareSheet}},[e._v("分享")]):e._e()])])},n=[],i={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{goBack:function(){api.historyBack({frameName:""},function(e,t){e.status||this.$router.go(-1)})},shareSheet:function(){this.$emit("shareSheet")}}},o=i,r=(a("4373"),a("2877")),c=Object(r["a"])(o,s,n,!1,null,"208c730d",null);t["a"]=c.exports},4373:function(e,t,a){"use strict";var s=a("e4d1"),n=a.n(s);n.a},"4b59":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("top-msg",{attrs:{"header-name":"会员中心"}}),a("div",{staticClass:"con_body mgb110"},[a("div",{staticClass:"member_head_bg"},[a("div",{staticClass:"bg_msg flex-row-between"},[e.userInfo?a("div",[e.userInfo.id_card_name?a("h5",{staticClass:"size48 colorfff textEllipsis"},[e._v("\n            "+e._s(e.userInfo.id_card_name)+"\n          ")]):a("h5",{staticClass:"size48 colorfff textEllipsis"},[e._v("\n            "+e._s(e.userInfo.username)+"\n          ")])]):e._e(),a("div",{staticClass:"button_fee size20 color333",on:{click:function(t){return t.stopPropagation(),e.gotoFeeDetail(e.userFeeMsg)}}},[e._v("\n          所有费率\n        ")])])]),a("div",{staticClass:"member_head"},[a("div",{staticClass:"flex-row-center"},[a("img",{staticClass:"rank_img",attrs:{src:e.userInfo.rank_logo.url}}),a("span",{staticClass:"size30 color333"},[e._v(e._s(e.userInfo?e.userInfo.rank_name:""))])]),e.userFeeMsg?a("div",{staticClass:"rank_tip flex-row-center"},[a("i",{staticClass:"iconfont icon-xinxi"}),""!=e.userFeeMsg.nextFee?a("span",{staticClass:"size24 color333"},[e._v("离"+e._s(e.userFeeMsg.nextFee.rank.rank_name)+"还差：直推"+e._s(e.userFeeMsg.nextFee.rank.critical_reference_count-e.userInfo.reference_count)+"人，团队"+e._s(e.userFeeMsg.nextFee.rank.critical_reference_team_count-e.userInfo.reference_team_count)+"人")]):a("span",{staticClass:"size24 color333"},[e._v("您已达到最高级别，无需再升级。")])]):e._e()]),a("div",{staticClass:"explain_warp flex bgfff flex_align"},[e._m(0),e._m(1),a("div",{staticClass:"explain_foot"},[a("i",{staticClass:"iconfont icon-xiangqing icon_question",on:{click:function(t){e.explainDialog=!0}}})])]),a("div",{staticClass:"meal_warp bgf8f8f8"},[e._m(2),a("div",{staticClass:"meal_items"},e._l(e.feeUpgradeEnableFeeList,function(t,s){return a("div",{key:t.rank.id,class:e.judgeRankClass(s),on:{click:function(t){return e.toggle(s)}}},[a("div",{staticClass:"item_left flex-vertical-centering"},[a("div",[a("span",{staticClass:"size48 rank_title"},[e._v(e._s(t.rank.rank_name))]),t.rank.rank_order<=e.userInfo.rank_order?a("span",{staticClass:"meal_tip"},[e._v("已升级")]):e._e()])]),a("div",{staticClass:"item_right flex-vertical-centering colorfff"},[a("span",{staticClass:"size48"},[e._v("¥"+e._s((t.rank.upgrade_fee/100).toFixed(0)))])])])}),0)])]),a("div",{staticClass:"btn_warp"},[""!=e.userFeeMsg.nextFee?a("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.upgradeMember}},[e._v("\n      升级\n    ")]):a("button",{staticClass:"btn btn_unUpgrate",attrs:{type:"button"}},[e._v("\n      升级\n    ")])]),e.rateDialog?a("fee-list",{attrs:{"fee-detail-msg":e.feeDetailMsg},on:{valueClose:e.valueClose}}):e._e(),a("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"close-on-click-overlay":""},model:{value:e.explainDialog,callback:function(t){e.explainDialog=t},expression:"explainDialog"}},[a("div",[a("div",{staticClass:"explain_title"},[a("h5",[e._v("会员等级说明")])]),a("div",{staticClass:"explain_content"},[a("p",[e._v("会员升级可享受不同级别的费率及享受超额的利润空间；等级越高，费率越低，成本越低；可通过推荐人数或直接成为我们的合伙人来享受高等级、低费率的优惠哦。成为我们的合伙人，可直接享受管理后台权限；了解更多可致电客服。")])]),a("div",{staticClass:"cen mb40"},[a("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:function(t){e.explainDialog=!1}}},[e._v("\n          知道了\n        ")])])])]),a("van-dialog",{attrs:{"show-confirm-button":!1,"close-on-click-overlay":""},model:{value:e.codeDialog,callback:function(t){e.codeDialog=t},expression:"codeDialog"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("qrcode",{attrs:{id:"qrcodeImg",value:e.codeValue,src:e.codeValue,options:{width:144},tag:"img"}})],1),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[a("span",{staticClass:"size36 bold"},[e._v("\n        选使用微信扫码付费\n      ")])])])],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"explain_head"},[a("i",{staticClass:"icon_memberMsg"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex1"},[a("h5",{staticClass:"size36 color333 lineHeight72"},[e._v("\n          升级会员更划算\n        ")]),a("p",{staticClass:"size24 color999"},[e._v("\n          费率更优 结算费用更省 永久升级\n        ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"meal_title flex-row-between"},[a("span",{staticClass:"size36 color333 bold"},[e._v("\n          选择升级套餐\n        ")]),a("span",{staticClass:"size24 maincolor"},[e._v("\n          升级记录\n        ")])])}],i=(a("ac6a"),a("3fce")),o=a("2c92"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"before-close":e.beforeClose,"close-on-click-overlay":""},model:{value:e.rateDialog,callback:function(t){e.rateDialog=t},expression:"rateDialog"}},[a("div",{staticClass:"rate_table"},[a("div",{staticClass:"table_title"},[a("h5",[e._v(e._s(e.feeDetailMsg.rank.rank_name)+"费率表")])]),a("div",{staticClass:"table_content"},[a("div",{staticClass:"con_tr flex flex_align"},[a("span",{staticClass:"con_th w40"},[e._v("通道名称")]),a("span",{staticClass:"con_th w30 cen"},[e._v("费用")]),a("span",{staticClass:"con_th w30 textalign_right"},[e._v("结算")])]),e._l(e.feeDetailMsg.channel_list,function(t,s){return a("div",{key:s,staticClass:"con_tr flex flex_align"},[a("span",{staticClass:"con_td w40 textEllipsis"},[e._v(e._s(t.channel_name))]),a("span",{staticClass:"con_td w30 cen"},[e._v(e._s(e.computeRate(t.big_decimal))+"%")]),a("span",{staticClass:"con_td w30 textalign_right"},[e._v(e._s(e.computeFee(t.fee))+"元/笔")])])})],2),a("div",{staticClass:"cen"},[a("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:e.closeDialog}},[e._v("\n          知道了\n        ")])])])])],1)},c=[],l={name:"FeeList",props:{feeDetailMsg:{type:Object,default:function(){}},required:{type:Boolean,default:!0}},data:function(){return{rateDialog:!0,showFalse:!1}},created:function(){},methods:{thisTitle:function(){document.title="费率表"},beforeClose:function(e,t){t(),this.$emit("valueClose",!1)},closeDialog:function(){this.$emit("valueClose",!1)},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99}}},u=l,f=(a("68a9"),a("73ec"),a("2877")),d=Object(f["a"])(u,r,c,!1,null,"b58753ca",null),_=d.exports,g={name:"Member",components:{topMsg:o["a"],feeList:_,Qrcode:i["a"]},data:function(){return{currentSelect:0,rateDialog:!1,explainDialog:!1,showFalse:!1,showServerDialog:!1,feeList:[],feeDetailMsg:"",userFeeMsg:"",isLoading:"",codeDialog:!1,codeValue:""}},computed:{userInfo:function(){return this.$store.state.userInfo},rankOrder:function(){return this.$store.state.userInfo.rank_order},feeUpgradeEnableFeeList:function(){return this.feeList.filter(function(e){return e.rank&&e.rank.enable_fee_upgrade})}},created:function(){this.isLoading=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"加载中..."}),this.thisTitle(),this.userInfo||this.$store.dispatch("GetUserInfo"),this.getMemberFeeMsgFun(),console.log(this.userInfo)},methods:{thisTitle:function(){document.title="会员中心"},toggle:function(e){this.feeUpgradeEnableFeeList[e].rank.rank_order>this.userInfo.rank_order&&(this.currentSelect=e)},getMemberFeeMsgFun:function(){var e=this;e.$api.member.getMemberFeeMsg().then(function(t){console.log(t),t=t.data,e.feeList=t.data,e.feeList.forEach(function(t,a,s){t.rank.rank_order===e.rankOrder&&(t.index=a,t.nextFee=s[a+1]||"",e.userFeeMsg=t)}),e.isLoading.clear()}).catch(function(e){console.log(e)})},valueClose:function(e){this.rateDialog=e},gotoFeeDetail:function(e){this.feeDetailMsg=e,this.rateDialog=!0},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99},upgradeMember:function(){var e=this,t=this,a=t.feeUpgradeEnableFeeList[t.currentSelect],s={target_rank_order:a.rank.rank_order};t.$api.member.upgradeOrder(s).then(function(a){a=a.data,a.data.url?(e.codeValue=a.data.url,e.codeDialog=!0):t.$toast("升级失败！")})},judgeRankClass:function(e){return this.feeUpgradeEnableFeeList[e].rank.rank_order<=this.userInfo.rank_order?"meal_item meal_item-upgrade":this.currentSelect===e?"meal_item meal_item-active":"meal_item"}}},m=g,v=(a("e847"),Object(f["a"])(m,s,n,!1,null,"544d1d3e",null));t["default"]=v.exports},"4f99":function(e,t,a){},"68a9":function(e,t,a){"use strict";var s=a("9930"),n=a.n(s);n.a},"73ec":function(e,t,a){"use strict";var s=a("e031"),n=a.n(s);n.a},9930:function(e,t,a){},e031:function(e,t,a){},e4d1:function(e,t,a){},e847:function(e,t,a){"use strict";var s=a("4f99"),n=a.n(s);n.a}}]);