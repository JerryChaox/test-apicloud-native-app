(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20136f33"],{"39ce":function(e,t,s){"use strict";var a=s("4c7f"),n=s.n(a);n.a},"4b59":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("top-msg",{attrs:{"header-name":"会员中心"}}),s("div",{staticClass:"con_body mgb110"},[s("div",{staticClass:"member_head_bg"},[s("div",{staticClass:"bg_msg flex-row-between"},[e.userInfo?s("div",[e.userInfo.id_card_name?s("h5",{staticClass:"size48 colorfff textEllipsis"},[e._v("\n            "+e._s(e.userInfo.id_card_name)+"\n          ")]):s("h5",{staticClass:"size48 colorfff textEllipsis"},[e._v("\n            "+e._s(e.userInfo.username)+"\n          ")])]):e._e(),s("div",{staticClass:"button_fee size20 color333",on:{click:function(t){return e.gotoFeeDetail(e.userFeeMsg.index)}}},[e._v("\n          所有费率\n        ")])])]),s("div",{staticClass:"member_head"},[s("div",{staticClass:"flex-row-center"},[s("img",{staticClass:"rank_img",attrs:{src:e.userInfo.rank_logo.url}}),s("span",{staticClass:"size30 color333"},[e._v(e._s(e.userInfo?e.userInfo.rank_name:""))])]),s("div",{staticClass:"member_content flex-row-between"},[e.userFeeMsg?s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"colorFFA726"},[s("span",{staticClass:"size48"},[e._v(e._s(e.computeRate(e.userFeeMsg.channel_list[0].big_decimal)))]),s("span",{staticClass:"size24"},[e._v("%")])]),s("span",{staticClass:"size24 color333 mt10"},[e._v("费率")])]):e._e(),e.userFeeMsg?s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"colorFFA726"},[s("span",{staticClass:"size48"},[e._v(e._s(e.computeFee(e.userFeeMsg.channel_list[0].fee)))]),s("span",{staticClass:"size24"},[e._v("元")])]),s("span",{staticClass:"size24 color333 mt10"},[e._v("结算/笔")])]):e._e()]),e.userFeeMsg?s("div",{staticClass:"rank_tip flex-row-center"},[s("i",{staticClass:"iconfont icon-xinxi"}),""!=e.userFeeMsg.nextFee?s("span",{staticClass:"size24 color333"},[e._v("离"+e._s(e.userFeeMsg.nextFee.rank.rank_name)+"还差：直推"+e._s(e.userFeeMsg.nextFee.rank.critical_reference_count-e.userInfo.reference_count)+"人，团队"+e._s(e.userFeeMsg.nextFee.rank.critical_reference_team_count-e.userInfo.reference_team_count)+"人")]):s("span",{staticClass:"size24 color333"},[e._v("您已达到最高级别，无需再升级。")])]):e._e()]),s("div",{staticClass:"explain_warp flex bgfff flex_align"},[e._m(0),e._m(1),s("div",{staticClass:"explain_foot"},[s("i",{staticClass:"iconfont icon-xiangqing icon_question",on:{click:function(t){e.explainDialog=!0}}})])]),s("div",{staticClass:"meal_warp bgf8f8f8"},[e._m(2),s("div",{staticClass:"meal_items"},e._l(e.feeList,function(t,a){return s("div",{key:t.rank.id,class:e.judgeRankClass(a),on:{click:function(t){return e.toggle(a)}}},[s("div",{staticClass:"item_left"},[s("div",[s("span",{staticClass:"size48 rank_title"},[e._v(e._s(t.rank.rank_name))]),t.rank.rank_order<=e.userInfo.rank_order?s("span",{staticClass:"meal_tip"},[e._v("已升级")]):e._e()]),s("div",{staticClass:"flex flex1 mt10"},[s("span",{staticClass:"size24 w50"},[e._v("费率"+e._s(e.computeRate(t.channel_list[0].big_decimal))+"%")]),s("span",{staticClass:"size24 flex1"},[e._v("结算"+e._s(e.computeFee(t.channel_list[0].fee))+"元/笔")])])]),s("div",{staticClass:"item_right flex-column-center colorfff"},[s("span",{staticClass:"size48"},[e._v("¥"+e._s((t.rank.upgrade_fee/100).toFixed(0)))]),s("span",{staticClass:"size24 originalCost"},[e._v("原价¥"+e._s((t.rank.origin_upgrade_fee/100).toFixed()))]),s("button",{staticClass:"btn item_btn",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.gotoFeeDetail(a)}}},[e._v("\n              所有费率\n            ")])])])}),0)])]),s("div",{staticClass:"btn_warp"},[""!=e.userFeeMsg.nextFee?s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.upgradeMember}},[e._v("\n      升级\n    ")]):s("button",{staticClass:"btn btn_unUpgrate",attrs:{type:"button"}},[e._v("\n      升级\n    ")])]),e.rateDialog?s("fee-list",{attrs:{"fee-detail-msg":e.feeDetailMsg},on:{valueClose:e.valueClose}}):e._e(),s("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"close-on-click-overlay":""},model:{value:e.explainDialog,callback:function(t){e.explainDialog=t},expression:"explainDialog"}},[s("div",[s("div",{staticClass:"explain_title"},[s("h5",[e._v("会员等级说明")])]),s("div",{staticClass:"explain_content"},[s("p",[e._v("会员升级可享受不同级别的费率及享受超额的利润空间；等级越高，费率越低，成本越低；可通过推荐人数或直接成为我们的合伙人来享受高等级、低费率的优惠哦。成为我们的合伙人，可直接享受管理后台权限；了解更多可致电客服。")])]),s("div",{staticClass:"cen mb40"},[s("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:function(t){e.explainDialog=!1}}},[e._v("\n          知道了\n        ")])])])]),s("van-dialog",{attrs:{"show-confirm-button":!1,"close-on-click-overlay":""},model:{value:e.codeDialog,callback:function(t){e.codeDialog=t},expression:"codeDialog"}},[s("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[s("qrcode",{attrs:{id:"qrcodeImg",value:e.codeValue,src:e.codeValue,options:{width:144},tag:"img"}})],1),s("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[s("span",{staticClass:"size36 bold"},[e._v("\n        选使用微信扫码付费\n      ")])])])],1)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"explain_head"},[s("i",{staticClass:"icon_memberMsg"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex1"},[s("h5",{staticClass:"size36 color333 lineHeight72"},[e._v("\n          升级会员更划算\n        ")]),s("p",{staticClass:"size24 color999"},[e._v("\n          费率更优 结算费用更省 永久升级\n        ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"meal_title flex-row-between"},[s("span",{staticClass:"size36 color333 bold"},[e._v("\n          选择升级套餐\n        ")]),s("span",{staticClass:"size24 maincolor"},[e._v("\n          升级记录\n        ")])])}],i=(s("ac6a"),s("3fce")),o=s("2c92"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("van-dialog",{attrs:{"show-confirm-button":e.showFalse,"before-close":e.beforeClose,"close-on-click-overlay":""},model:{value:e.rateDialog,callback:function(t){e.rateDialog=t},expression:"rateDialog"}},[s("div",{staticClass:"rate_table"},[s("div",{staticClass:"table_title"},[s("h5",[e._v(e._s(e.feeDetailMsg.rank.rank_name)+"费率表")])]),s("div",{staticClass:"table_content"},[s("div",{staticClass:"con_tr flex flex_align"},[s("span",{staticClass:"con_th w40"},[e._v("通道名称")]),s("span",{staticClass:"con_th w30 cen"},[e._v("费用")]),s("span",{staticClass:"con_th w30 textalign_right"},[e._v("结算")])]),e._l(e.feeDetailMsg.channel_list,function(t,a){return s("div",{key:a,staticClass:"con_tr flex flex_align"},[s("span",{staticClass:"con_td w40 textEllipsis"},[e._v(e._s(t.channel_name))]),s("span",{staticClass:"con_td w30 cen"},[e._v(e._s(e.computeRate(t.big_decimal))+"%")]),s("span",{staticClass:"con_td w30 textalign_right"},[e._v(e._s(e.computeFee(t.fee))+"元/笔")])])})],2),s("div",{staticClass:"cen"},[s("button",{staticClass:"btn btn_confirm",attrs:{type:"button"},on:{click:e.closeDialog}},[e._v("\n          知道了\n        ")])])])])],1)},c=[],r={name:"FeeList",props:{feeDetailMsg:{type:Object,default:function(){}},required:{type:Boolean,default:!0}},data:function(){return{rateDialog:!0,showFalse:!1}},created:function(){},methods:{thisTitle:function(){document.title="费率表"},beforeClose:function(e,t){t(),this.$emit("valueClose",!1)},closeDialog:function(){this.$emit("valueClose",!1)},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99}}},u=r,_=(s("68a9"),s("73ec"),s("2877")),f=Object(_["a"])(u,l,c,!1,null,"b58753ca",null),d=f.exports,g={name:"Member",components:{topMsg:o["a"],feeList:d,Qrcode:i["a"]},data:function(){return{currentSelect:0,rateDialog:!1,explainDialog:!1,showFalse:!1,showServerDialog:!1,feeList:[],feeDetailMsg:"",userFeeMsg:"",isLoading:"",codeDialog:!1,codeValue:""}},computed:{userInfo:function(){return this.$store.state.userInfo},rankOrder:function(){return this.$store.state.userInfo.rank_order}},created:function(){this.isLoading=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"加载中..."}),this.thisTitle(),this.userInfo||this.$store.dispatch("GetUserInfo"),this.getMemberFeeMsgFun(),console.log(this.userInfo)},methods:{thisTitle:function(){document.title="会员中心"},toggle:function(e){this.feeList[e].rank.rank_order>this.userInfo.rank_order&&(this.currentSelect=e)},getMemberFeeMsgFun:function(){var e=this;e.$api.member.getMemberFeeMsg().then(function(t){console.log(t),t=t.data,e.feeList=t.data,e.feeList.forEach(function(t,s,a){t.rank.rank_order===e.rankOrder&&(t.index=s,t.nextFee=a[s+1]||"",e.userFeeMsg=t)}),e.isLoading.clear()}).catch(function(e){console.log(e)})},valueClose:function(e){this.rateDialog=e},gotoFeeDetail:function(e){this.feeDetailMsg=this.feeList[e],this.rateDialog=!0},computeRate:function(e){return e?(100*e).toFixed(2):99},computeFee:function(e){return e?(e/100).toFixed(2):99},upgradeMember:function(){var e=this,t=this,s=t.feeList[t.currentSelect],a={target_rank_order:s.rank.rank_order};t.$api.member.upgradeOrder(a).then(function(s){s=s.data,s.data.url?(e.codeValue=s.data.url,e.codeDialog=!0):t.$toast("升级失败！")})},judgeRankClass:function(e){return this.feeList[e].rank.rank_order<=this.userInfo.rank_order?"meal_item meal_item-upgrade":this.currentSelect===e?"meal_item meal_item-active":"meal_item"}}},m=g,v=(s("39ce"),Object(_["a"])(m,a,n,!1,null,"52340653",null));t["default"]=v.exports},"4c7f":function(e,t,s){},"68a9":function(e,t,s){"use strict";var a=s("9930"),n=s.n(a);n.a},"73ec":function(e,t,s){"use strict";var a=s("e031"),n=s.n(a);n.a},9930:function(e,t,s){},e031:function(e,t,s){}}]);