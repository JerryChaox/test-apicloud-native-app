(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1670269a"],{"2b89":function(t,a,s){},"2c92":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return t.isWechat?t._e():s("div",{staticClass:"header"},[s("div",{staticClass:"header_body"},[s("p",[t._v(t._s(t.headerName))])])])},i=[],r={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{}},n=r,d=s("2877"),c=Object(d["a"])(n,e,i,!1,null,"290634ab",null);a["a"]=c.exports},"500b":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{},[s("top-msg",{attrs:{"header-name":"更换银行卡"}}),s("div",{staticClass:"con_body"},[s("div",{staticClass:"cards_list"},[s("div",{staticClass:"cards_head"},["cashCard"==t.type?s("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张借记卡")]):s("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张贷记卡")])]),s("div",{staticClass:"list_items"},[t._l(t.cardMsg,function(a,e){return s("div",{key:e,class:"cashCard"==t.type?"list_item2 flex flex_alCen":"list_item flex flex_alCen",on:{click:function(s){return t.selectThisCard(a.id)}}},[t.currentCard===a.id?s("i",{staticClass:"icon_select"}):t._e(),s("div",{staticClass:"card_logo w25"},[a.bank_info.bank_logo_image?s("img",{attrs:{src:a.bank_info.bank_logo_image.url}}):t._e()]),s("div",{staticClass:"flex1 lineheight70"},[s("h5",{staticClass:"colorfff size30"},[t._v("\n              "+t._s(a.bank_info.name)+"\n            ")]),s("p",{staticClass:"colorfff size36 textEllipsis"},[t._v("\n              "+t._s("**** **** *** "+a.card_info.card_no.substr(a.card_info.card_no.length-4))+"\n            ")])])])}),"cashCard"==t.type?s("div",{staticClass:"card_add"},[s("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCard",query:{status:"add"}}}},[s("div",{staticClass:"flex-row-center"},[s("i",{staticClass:"iconfont icon-tianjiajihua"}),s("span",[t._v("添加借记卡")])])])],1):s("div",{staticClass:"card_add"},[s("router-link",{staticClass:"btn2 flex-vertical-centering",attrs:{to:{path:"/addCreditCard",query:{status:"add"}}}},[s("div",{staticClass:"flex-row-center"},[s("i",{staticClass:"iconfont icon-tianjiajihua"}),s("span",[t._v("添加贷记卡")])])])],1)],2)])])],1)},i=[],r=s("cebc"),n=s("2c92"),d={name:"ChangeCard",components:{topMsg:n["a"]},data:function(){return{currentCard:this.$util.getQueryVariable("id")?this.$util.getQueryVariable("id"):"",type:this.$util.getQueryVariable("type"),cardMsg:""}},computed:{cardType:function(){return"cashCard"===this.type?"DEBIT":"CREDIT"}},created:function(){this.thisTitle(),this.getCardListFun()},methods:{thisTitle:function(){document.title="更换银行卡"},gotoEditCreditCard:function(){this.$router.push({path:"/addCreditCard",query:{status:"edit"}})},gotoEditCard:function(){this.$router.push({path:"/addCard",query:{status:"edit"}})},gotoAddCard:function(){0===this.currentNav?this.$router.push({path:"/addCard",query:{status:"add"}}):1===this.currentNav&&this.$router.push({path:"/addCreditCard",query:{status:"add"}})},getCardListFun:function(){var t=this,a="cashCard"===t.type?"DEBIT":"CREDIT";t.$api.card.getCardList(a).then(function(a){console.log(a),t.cardMsg=a.data.data}).catch(function(t){console.log(t)})},selectThisCard:function(t){var a=this;this.currentCard=t;var s=this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"请稍候..."});this.$api.card.getCard(this.cardType,t).then(function(t){var s={id:t.data.data.id,card_info:Object(r["a"])({},t.data.data),bank_info:t.data.data.bank_info};"cashCard"===a.type?a.$store.commit("SET_CURRENT_DEBIT_CARD",s):"creditCard"===a.type&&a.$store.commit("SET_CURRENT_CREDIT_CARD",s),a.$router.go(-1)}).finally(function(){s.clear()})}}},c=d,o=(s("d075"),s("2877")),l=Object(o["a"])(c,e,i,!1,null,"c0ea6794",null);a["default"]=l.exports},d075:function(t,a,s){"use strict";var e=s("2b89"),i=s.n(e);i.a}}]);