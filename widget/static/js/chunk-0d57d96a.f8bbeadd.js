(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d57d96a"],{"2c92":function(t,a,n){"use strict";var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.isWechat?t._e():n("div",{staticClass:"header"},[n("div",{staticClass:"header_body"},[n("span",{staticClass:"goBack",on:{click:t.goBack}},[n("van-icon",{attrs:{name:"arrow-left"}})],1),n("div",{staticClass:"flex-vertical-centering"},[n("p",{staticClass:"textEllipsis"},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?n("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},e=[],i={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{goBack:function(){api.historyBack({frameName:""},function(t,a){t.status||this.$router.go(-1)})},shareSheet:function(){this.$emit("shareSheet")}}},c=i,r=(n("a125"),n("2877")),o=Object(r["a"])(c,s,e,!1,null,"3efa7418",null);a["a"]=o.exports},"470d":function(t,a,n){},"849f":function(t,a,n){"use strict";var s=n("470d"),e=n.n(s);e.a},"991b":function(t,a,n){"use strict";n.r(a);var s=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{},[n("top-msg",{attrs:{"header-name":"我的银行卡"}}),n("div",{staticClass:"con_body"},[n("nav",{staticClass:"con_nav bgfff"},[n("ul",{staticClass:"flex"},[n("li",{class:0===t.currentNav?"nav_item nav_item-on":"nav_item",on:{click:function(a){return t.toggle(0)}}},[t._v("\n          借记卡（储蓄卡）\n        ")]),n("li",{class:1===t.currentNav?"nav_item nav_item-on":"nav_item",on:{click:function(a){return t.toggle(1)}}},[t._v("\n          贷记卡（信用卡）\n        ")])])]),n("div",{staticClass:"cards_list"},[n("div",{staticClass:"cards_head"},[0===t.currentNav?n("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张借记卡")]):t._e(),1===t.currentNav?n("span",{staticClass:"size28 color999"},[t._v("共 "+t._s(t.cardMsg.length)+" 张贷记卡")]):t._e()]),n("div",{staticClass:"list_items"},t._l(t.cardMsg,function(a){return n("div",{key:a.id,class:1===t.currentNav?"list_item flex flex_alCen":"list_item2 flex flex_alCen",on:{click:function(n){return t.gotoEditCard(a.id,a.card_info.auth)}}},[n("div",{staticClass:"card_logo w25"},[n("img",{attrs:{src:a.bank_info&&a.bank_info.bank_logo_image.url}})]),n("div",{staticClass:"flex1 lineheight70 w70"},[n("h5",{staticClass:"colorfff size30"},[t._v("\n              "+t._s(a.bank_info?a.bank_info.name:"")+"\n            ")]),n("p",{staticClass:"colorfff size36 textEllipsis"},[t._v("\n              "+t._s("**** **** *** "+a.card_info.card_no.substr(a.card_info.card_no.length-4))+"\n            ")])]),n("div",{staticClass:"card_path"},[n("i",{staticClass:"iconfont icon-guanbi",on:{click:function(n){return n.stopPropagation(),t.deleteCardFun(a.id)}}})])])}),0)])]),n("div",{staticClass:"btn_warp"},[n("button",{staticClass:"btn btn_add",on:{click:t.gotoAddCard}},[t._v("\n      + 添加"+t._s(0===t.currentNav?"借记卡":"贷记卡")+"\n    ")])])],1)},e=[],i=n("2c92"),c={name:"MyCard",components:{topMsg:i["a"]},data:function(){return{currentNav:0,cardMsg:""}},watch:{cardMsg:{handler:function(t,a){},deep:!0}},created:function(){this.thisTitle(),this.getCardListFun()},methods:{thisTitle:function(){document.title="我的银行卡"},toggle:function(t){this.currentNav=t,this.cardMsg="",this.getCardListFun()},gotoEditCard:function(t,a){1===this.currentNav?this.$router.push({path:"/addCreditCard",query:{status:"edit",cardId:t,auth:a}}):a||this.$router.push({path:"/addCard",query:{status:"edit",cardId:t}})},gotoAddCard:function(){0===this.currentNav?this.$router.push({path:"/addCard",query:{status:"add"}}):1===this.currentNav&&this.$router.push({path:"/addCreditCard",query:{status:"add"}})},getCardListFun:function(){var t=this,a=0===t.currentNav?"DEBIT":"CREDIT";t.$api.card.getCardList(a).then(function(a){console.log(a),t.cardMsg=a.data.data,console.log(t.cardMsg)}).catch(function(t){console.log(t)})},deleteCardFun:function(t){var a=this;a.$dialog({title:"确认删除银行卡？",message:"删除的银行卡无法恢复",showCancelButton:!0,confirmButtonText:"删除",cancelButtonText:"再想想",className:"dialog dialog2",closeOnClickOverlay:!0}).then(function(n){if("confirm"===n){var s=1===a.currentNav?"CREDIT":"DEBIT";a.$api.card.deleteCard(t,s).then(function(t){console.log(t),a.$toast({message:"删除银行卡成功",position:"middle"}),a.getCardListFun()}).catch(function(t){console.log(t)})}})}}},r=c,o=(n("849f"),n("2877")),d=Object(o["a"])(r,s,e,!1,null,"672cd67d",null);a["default"]=d.exports},a125:function(t,a,n){"use strict";var s=n("cc0b"),e=n.n(s);e.a},cc0b:function(t,a,n){}}]);