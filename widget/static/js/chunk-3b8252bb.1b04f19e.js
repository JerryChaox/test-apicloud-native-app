(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b8252bb"],{"2c92":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isWechat?e._e():s("div",{staticClass:"header"},[s("div",{staticClass:"header_body"},[s("p",[e._v(e._s(e.headerName))])])])},o=[],l={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{}},n=l,i=s("2877"),r=Object(i["a"])(n,a,o,!1,null,"290634ab",null);t["a"]=r.exports},5728:function(e,t,s){"use strict";var a=s("b74c"),o=s.n(a);o.a},b74c:function(e,t,s){},c57f:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("top-msg",{attrs:{"header-name":"修改密码"}}),s("div",{staticClass:"con_body"},[s("div",{staticClass:"form_cells form_cells_form bgfff"},[s("div",{staticClass:"form_cell"},[e._m(0),s("div",{staticClass:"form_cellBd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],staticClass:"form_input",attrs:{type:"number",placeholder:"输入您绑定的手机号码",maxlength:"11"},domProps:{value:e.tel},on:{input:function(t){t.target.composing||(e.tel=t.target.value)}}})])]),s("div",{staticClass:"form_cell"},[e._m(1),s("div",{staticClass:"form_cellBd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form_input",attrs:{type:"number",placeholder:"输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),s("div",{staticClass:"form_cellFt"},[e.isGetCode?s("button",{staticClass:"btn_stay"},[e._v("\n            "+e._s(e.num)+"s后重发\n          ")]):s("button",{staticClass:"btn_getCode",on:{click:e.getCodeFun}},[e._v("\n            获取验证码\n          ")])])]),s("div",{staticClass:"form_cell"},[e._m(2),s("div",{staticClass:"form_cellBd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form_input",attrs:{type:"password",placeholder:"请输入您的原密码"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})])]),s("div",{staticClass:"form_cell"},[e._m(3),s("div",{staticClass:"form_cellBd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form_input",attrs:{type:"password",placeholder:"6~12位数字或字母"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})])]),s("div",{staticClass:"form_cell"},[e._m(4),s("div",{staticClass:"form_cellBd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newRePassword,expression:"newRePassword"}],staticClass:"form_input",attrs:{type:"password",placeholder:"重复输入新密码"},domProps:{value:e.newRePassword},on:{input:function(t){t.target.composing||(e.newRePassword=t.target.value)}}})])])]),s("div",{staticClass:"btn_warp"},[s("button",{staticClass:"btn btn_save",on:{click:e.submit}},[e._v("\n        保  存\n      ")])])])],1)},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_cellHd flex flex_align"},[s("label",{staticClass:"form_label"},[e._v("手机号码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_cellHd flex flex_align"},[s("label",{staticClass:"form_label"},[e._v("验证码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_cellHd"},[s("label",{staticClass:"form_label"},[e._v("原密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_cellHd"},[s("label",{staticClass:"form_label"},[e._v("新密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form_cellHd"},[s("label",{staticClass:"form_label"},[e._v("确认密码")])])}],l=s("2c92"),n={name:"EditPassword",components:{topMsg:l["a"]},data:function(){return{tel:"",code:"",codeToken:"",isGetCode:!1,num:60,timer:"",oldPassword:"",newPassword:"",newRePassword:""}},created:function(){this.thisTitle()},methods:{thisTitle:function(){document.title="修改密码"},getCodeFun:function(){var e=this,t=function(t){return e.$dialog({title:t,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"确定",className:"dialog",closeOnClickOverlay:!0})};if(e.tel)if(e.$util.isPhone(e.tel)){e.isGetCode||(e.isGetCode=!0,e.timer=setInterval(function(){0!==e.num?e.num--:(e.isGetCode=!1,e.num=60,clearInterval(e.timer))},1e3));var s={phone:e.tel};e.$api.login.getCode(s).then(function(t){console.log(t),e.codeToken=t.data.data.token}).catch(function(t){console.log(t),e.isGetCode=!1,e.num=60,clearInterval(e.timer)})}else t("请输入正确的手机号码");else t("请输入您的手机号码")},submit:function(){var e=this,t=function(t){return e.$dialog({title:t,showCancelButton:!1,confirmButtonText:"确定",cancelButtonText:"确定",className:"dialog",closeOnClickOverlay:!0})};if(e.tel)if(e.$util.isPhone(e.tel))if(e.code)if(e.oldPassword)if(e.newPassword&&e.newRePassword)if(e.newPassword!==e.newRePassword)t("两次输入的密码不一致，请重新输入");else{var s={code_input:e.code,code_token:e.codeToken,new_password:e.newPassword,old_password:e.oldPassword};e.$api.center.editPassword(s).then(function(t){e.$dialog({title:"修改密码成功",showCancelButton:!1,confirmButtonText:"确定",className:"dialog",closeOnClickOverlay:!0}).then(function(){e.$router.push("/login")})}).catch(function(t){t=t.data,e.$dialog({title:"密码重置失败",message:t.msg,confirmButtonText:"返回",className:"dialog",closeOnClickOverlay:!1})})}else t("请输入您的新密码");else t("请输入您的旧密码");else t("请输入收到的验证码");else t("请输入正确的手机号码");else t("请输入您的手机号码")}}},i=n,r=(s("5728"),s("2877")),c=Object(r["a"])(i,a,o,!1,null,"f803c632",null);t["default"]=c.exports}}]);