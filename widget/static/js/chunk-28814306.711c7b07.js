(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28814306"],{"19e7":function(t,e,s){"use strict";var a=s("2080"),i=s.n(a);i.a},2080:function(t,e,s){},"20fe":function(t,e,s){"use strict";s.r(e);var a,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top-msg",{attrs:{"header-name":"账单"}}),a("div",{staticClass:"con_body"},[a("van-tabs",{attrs:{"title-active-color":"#0086F2"},on:{click:t.toggleNav},model:{value:t.currentNav,callback:function(e){t.currentNav=e},expression:"currentNav"}},[a("div",{staticClass:"con_bills"},[a("div",{staticClass:"bills_head flex_sb"},[a("div",{staticClass:"flex1"},[a("div",{staticClass:"box"},[a("span",{staticClass:"size26 bills_select",on:{click:t.openMonthPicker}},[t._v(t._s(t.monthSelect?t.monthSelect:"全部"))]),a("i",{staticClass:"iconfont icon-shouqi"})])]),a("div",{staticClass:"flex1"},[a("div",{staticClass:"box"},[a("span",{staticClass:"size26 bills_select",on:{click:function(e){t.statusPicker=!0,t.closeTouch()}}},[t._v(t._s(t.statusSelect?t.statusSelect:t.stateType))]),a("i",{staticClass:"iconfont icon-shouqi"})])]),a("div",{staticClass:"amount_all textalign_right"},[4===t.currentNav?a("p",{staticClass:"size26 color999"},[t._v("\n              获得：\n              "),a("span",{staticClass:"colorED0"},[t._v(t._s(t._f("parseAmount")(t.sumGainPointsAmount))+" ")]),t._v("\n              消费：\n              "),a("span",{staticClass:"colorED0"},[t._v(t._s(t._f("parseAmount")(Math.abs(t.sumConsumeProfitsAmount))))])]):a("p",{staticClass:"size26 color999"},[t._v("\n              总计：\n              "),a("span",{staticClass:"colorED0"},[t._v("¥"+t._s(t._f("parseAmount")(t.sumTotalAmount)))])])])])]),a("van-tab",{attrs:{title:"收款"}},[a("div",{staticClass:"bills_items"},[[a("van-list",{attrs:{finished:t.orderFinished,error:t.orderError,"finished-text":"已加载完毕","error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.orderError=e},load:t.getOrderListFun},model:{value:t.orderLoading,callback:function(e){t.orderLoading=e},expression:"orderLoading"}},[t.haveContent?[a("van-collapse",{attrs:{accordion:""},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.orderList,function(e,s){return a("van-collapse-item",{key:e.id,staticClass:"mgb20",attrs:{name:s+1}},[a("div",{staticClass:"bills_item flex_sb bgfff",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"w100 flex-column"},[a("p",{class:["size26","tradeState","UNSETTLED"==e.trade_state?"weijiesuan":"yijiesuan"]},[t._v("\n                          "+t._s(t._f("tradeState")(e.trade_state))+"\n                        ")]),a("div",{staticClass:"w100 flex-row-between item_top"},[a("p",{staticClass:"size26 color333"},[t._v("\n                            订单编号："+t._s(e.trade_no)+"\n                          ")]),a("p",{staticClass:"size28 colorED0 bold"},[t._v("\n                            ¥ "+t._s(t._f("parseAmount")(e.total_amount))+"\n                          ")])]),a("div",{staticClass:"w100 flex-row-between"},[a("p",{staticClass:"size26 lineheight60"},[t._v("\n                            时间："+t._s(t._f("timeToFormatDate")(e.gmt_create))+"\n                          ")]),a("p",{staticClass:"size26 color999"},[t._v("\n                            "+t._s("总手续费：¥")+t._s(t._f("parseAmount")(e.total_amount-e.actual_amount))+"\n                          ")])]),a("div",{staticClass:"w100 flex-row-between"},[a("p",{staticClass:"size26"},[t._v("\n                            通道: "+t._s(e.channel_name)+"\n                          ")]),a("p",{staticClass:"size24 color999 flex-row-center",on:{click:function(s){return t.getOrderDetailFun(e.trade_no)}}},[a("span",[t._v("详情")]),t.activeNames===s+1?a("i",{staticClass:"iconfont icon-zhankai xiala"}):a("i",{staticClass:"iconfont icon-shouqi xiala"})])])])]),t.orderDetail?[a("div",{},[a("div",{staticClass:"detail_msg detail_moreMsg flex"},[a("p",[t._v("\n                            收款金额：\n                            "),a("span",[t._v("¥"+t._s(t._f("parseAmount")(t.orderDetail.payment_amount)))])]),a("p",[t._v("\n                            费率：\n                            "),a("span",[t._v(t._s((100*t.orderDetail.rate).toFixed(2))+"%")])]),a("p",[t._v("\n                            结算费：\n                            "),a("span",[t._v("¥"+t._s(t._f("parseAmount")(t.orderDetail.fee))+"/笔")])])]),a("div",{staticClass:"detail_msg detail_moreMsg flex"},[a("p",[t._v("\n                            结算金额：\n                            "),a("span",[t._v("¥"+t._s(t._f("parseAmount")(t.orderDetail.actual_amount)))])]),a("p",[t._v("\n                            手续费：\n                            "),a("span",[t._v("¥"+t._s(t._f("parseAmount")(t.orderDetail.payment_amount-t.orderDetail.actual_amount-t.orderDetail.fee)))])])]),t.orderDetail?a("div",{staticClass:"detail_msg flex"},[a("p",[t._v("付款贷记卡："+t._s(t.orderDetail.deposit.credit_card.bank_name)+" **** **** **** "+t._s(t.orderDetail.deposit.credit_card.card_no.substr(t.orderDetail.deposit.credit_card.card_no.length-4)))])]):t._e(),t.orderDetail?a("div",{staticClass:"detail_msg flex"},[a("p",[t._v("结算借记卡："+t._s(t.orderDetail.payback[0].debit_card.bank_name)+" **** **** **** "+t._s(t.orderDetail.payback[0].debit_card.card_no.substr(t.orderDetail.payback[0].debit_card.card_no.length-4)))])]):t._e()])]:[a("van-loading",{staticClass:"list_loading"})]],2)}),1)]:[a("div",{staticClass:"unContent"},[a("div",{staticClass:"unContent_img"},[a("img",{attrs:{src:s("f0b7")}})]),a("div",[a("span",[t._v("没有相关记录")])])])]],2)]],2)]),a("van-tab",{attrs:{title:"分润"}},[a("div",{staticClass:"bills_items"},[[a("van-list",{attrs:{finished:t.profitsFinished,error:t.profitsError,"finished-text":"已加载完毕","error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.profitsError=e},load:t.getProfitsListFun},model:{value:t.profitsLoading,callback:function(e){t.profitsLoading=e},expression:"profitsLoading"}},[t.haveContent?t._l(t.profitsList,function(e){return a("div",{key:e.profitsNo,staticClass:"bills_item flex_sb bgfff mgb20"},[a("div",{staticClass:"w100 flex-column"},[a("div",{staticClass:"w100 flex-row-between item_top"},[a("div",{staticClass:"flex-row-center"},[a("div",{class:e.is_direct?"icon_zhitui":"icon_jiantui"},[t._v("\n                          "+t._s(e.is_direct?"直推":"间推")+"\n                        ")]),a("p",{staticClass:"size26 color333"},[t._v("\n                          订单编号："+t._s(e.trade_no)+"\n                        ")])]),a("p",{staticClass:"size28 colorED0 bold"},[t._v("\n                        ¥ "+t._s("FINANCIAL_LEVERAGE_GROUP"==e.financial_group?(parseFloat(e.payment_profits_amount)+parseFloat(e.remission_profits_amount)).toFixed(2):e.profits_amount)+"\n                      ")])]),a("div",{staticClass:"w100 flex-row-between color666"},[a("p",{staticClass:"size26 lineheight60"},[t._v("\n                        时间："+t._s(t._f("timeToFormatDate")(e.gmt_create))+"\n                      ")]),a("p",{staticClass:"size26"},[t._v("\n                        "+t._s("FINANCIAL_LEVERAGE_GROUP"===e.financial_group?"¥ "+e.payment_profits_amount+"+"+e.remission_profits_amount:"PAYMENT"===e.type?"消费":"还款")+"\n                      ")])]),a("div",{staticClass:"w100 flex-row-between color666"},[a("p",{staticClass:"size26"},[t._v("\n                        用户："+t._s(e.source_user_id_card_name+" "+e.source_username)+"\n                      ")]),a("p",{staticClass:"size26"},[t._v("\n                        交易额：¥ "+t._s(e.payment_amount)+"\n                      ")])])])])}):[a("div",{staticClass:"unContent"},[a("div",{staticClass:"unContent_img"},[a("img",{attrs:{src:s("f0b7")}})]),a("div",[a("span",[t._v("没有相关记录")])])])]],2)]],2)]),a("van-tab",{attrs:{title:"提现"}},[a("div",{staticClass:"bills_items"},[[a("van-list",{attrs:{finished:t.withdrawFinished,error:t.withdrawError,"finished-text":"已加载完毕","error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.withdrawError=e},load:t.getWithdrawListFun},model:{value:t.withdrawLoading,callback:function(e){t.withdrawLoading=e},expression:"withdrawLoading"}},[t.haveContent?[t._l(t.withdrawList,function(e){return a("div",{key:e.id,staticClass:"bills_item flex_sb bgfff mgb20"},[a("div",{staticClass:"w100 flex-vertical-centering"},[a("div",{staticClass:"w100 flex-row-between item_top"},[a("div",{staticClass:"flex-row-center"},[a("i",{staticClass:"iconfont icon-dingdan"}),a("p",{staticClass:"size26 color333"},[t._v("\n                          订单号："+t._s(e.remission_no)+"\n                        ")])]),a("p",{class:["size26",t.state[e.state]]},[t._v("\n                        "+t._s("PENDING"==e.state?"提现中":"FAIL"==e.state?"提现失败":"提现成功")+"\n                      ")])]),a("div",{staticClass:"w100 flex-row-between mt20"},[a("p",{staticClass:"size28 color666"},[t._v("\n                        时间："+t._s(t._f("timeToFormatDate")(e.gmt_create))+"\n                      ")]),a("p",{staticClass:"size28 colorED0 bold"},[t._v("\n                        ¥ "+t._s(t._f("parseAmount")(e.actual_amount))+"\n                      ")])]),"FAIL"==e.state?a("div",{staticClass:"w100 flex-row-center TXfail"},[t._v("\n                      失败原因：账户异常\n                    ")]):t._e()])])}),a("div")]:[a("div",{staticClass:"unContent"},[a("div",{staticClass:"unContent_img"},[a("img",{attrs:{src:s("f0b7")}})]),a("div",[a("span",[t._v("没有相关记录")])])])]],2)]],2)]),a("van-tab",{attrs:{title:"奖金"}},[a("div",{staticClass:"bills_items"},[a("van-list",{attrs:{finished:t.bonusFinished,error:t.bonusError,"finished-text":"已加载完毕","error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.bonusError=e},load:t.getBonusListFun},model:{value:t.bonusLoading,callback:function(e){t.bonusLoading=e},expression:"bonusLoading"}},[t.haveContent?t._l(t.bonusList,function(e){return a("div",{key:e.id,staticClass:"bonus_item flex_sb bgfff mgb20"},[a("div",{staticClass:"w100 flex-column"},[a("div",{staticClass:"flex-row-center item_top"},[a("i",{staticClass:"iconfont icon-time"}),a("p",{staticClass:"size26 color333 bold"},[t._v("\n                      "+t._s(t._f("timeToFormatDate")(e.gmt_create))+"\n                    ")])]),a("div",{staticClass:"w100 flex-row-between"},[a("div",{staticClass:"color666"},["POINTS"==e.type?a("p",{staticClass:"size28 lineheight70"},[t._v("\n                        "+t._s(e.source_payload+" 积分兑换")+"\n                      ")]):t._e(),"REGISTER"==e.type?a("p",{staticClass:"size28 lineheight70"},[t._v("\n                        "+t._s(e.source.username+" 注册")+"\n                      ")]):"AUTHENTICATION"==e.type?a("p",{staticClass:"size28 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 实名认证")+"\n                      ")]):"FIRST_TRADE_SUCCESS"==e.type?a("p",{staticClass:"size28 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 首次支付")+"\n                      ")]):"MANAGER"==e.type?a("p",{staticClass:"size28 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 管理奖")+"\n                      ")]):t._e()]),a("div",{staticClass:"flex_column flex_sb textalign_right"},[a("p",{staticClass:"size28 colorED0 bold"},[t._v("\n                        ¥ "+t._s(t._f("parseAmount")(e.bonus_amount))+"\n                      ")])])])])])}):[a("div",{staticClass:"unContent"},[a("div",{staticClass:"unContent_img"},[a("img",{attrs:{src:s("f0b7")}})]),a("div",[a("span",[t._v("没有相关记录")])])])]],2)],1)]),a("van-tab",{attrs:{title:"积分"}},[a("div",{staticClass:"bills_items"},[a("van-list",{attrs:{finished:t.pointsFinished,error:t.pointsError,"finished-text":"已加载完毕","error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.pointsError=e},load:t.getPointsListFun},model:{value:t.pointsLoading,callback:function(e){t.pointsLoading=e},expression:"pointsLoading"}},[t.haveContent?t._l(t.pointsList,function(e){return a("div",{key:e.id,staticClass:"bonus_item flex_sb bgfff mgb20"},[a("div",{staticClass:"w100 flex-column"},[a("div",{staticClass:"flex-row-center item_top"},[a("i",{staticClass:"iconfont icon-time"}),a("p",{staticClass:"size26 color333 bold"},[t._v("\n                      "+t._s(t._f("timeToFormatDate")(e.gmt_create))+"\n                    ")])]),a("div",{staticClass:"w100 flex-row-between"},[a("div",{staticClass:"color666"},["REGISTER"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 注册")+"\n                      ")]):"AUTHENTICATION"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 实名认证")+"\n                      ")]):"FIRST_TRADE_SUCCESS"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 首次支付")+"\n                      ")]):"FEE"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 手续费积分奖励")+"\n                      ")]):"TRADE_SUCCESS_DEDUCT"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 消费抵扣手续费")+"\n                      ")]):"UPGRADE_CONSUME"==e.type?a("p",{staticClass:"size26 lineheight60"},[t._v("\n                        "+t._s(e.destination.user_id_card_name+" "+e.destination.username)+"\n                      ")]):"MANUAL_AWARD"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 手动奖励积分")+"\n                      ")]):"MANUAL_CONSUME"==e.type?a("p",{staticClass:"size26 lineheight70"},[t._v("\n                        "+t._s(e.source.user_id_card_name+" "+e.source.username+" 手动扣除积分")+"\n                      ")]):t._e()]),a("div",{staticClass:"flex_column flex_sb textalign_right"},[a("p",{staticClass:"size28 colorED0 bold"},[t._v("\n                        "+t._s(e.points_amount)+"\n                      ")])])]),"UPGRADE_CONSUME"==e.type?a("div",{staticClass:"size26 mb15"},[t._v("\n                    使用"+t._s(Math.abs(e.points_amount))+"积分升级"+t._s(e.source.user_id_card_name+" "+e.source.username)+"为"+t._s(e.source.rank_name)+"会员\n                  ")]):t._e()])])}):[a("div",{staticClass:"unContent"},[a("div",{staticClass:"unContent_img"},[a("img",{attrs:{src:s("f0b7")}})]),a("div",[a("span",[t._v("没有相关记录")])])])]],2)],1)])],1)],1),a("van-popup",{attrs:{position:"bottom"},model:{value:t.monthPicker,callback:function(e){t.monthPicker=e},expression:"monthPicker"}},[a("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate,"cancel-button-text":"当月全部"},on:{confirm:t.closeMonthPicker,cancel:t.wholeMonth},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}})],1),a("van-popup",{attrs:{position:"bottom"},model:{value:t.statusPicker,callback:function(e){t.statusPicker=e},expression:"statusPicker"}},[a("van-picker",{attrs:{columns:t.statusColumns,"show-toolbar":""},on:{confirm:t.closeStatusPicker,cancel:function(e){t.statusPicker=!1,t.openTouch()}},model:{value:t.statusSelect,callback:function(e){t.statusSelect=e},expression:"statusSelect"}})],1)],1)},n=[],r=(s("5f5f"),s("f253")),o=(s("d1cf"),s("ee83")),c=(s("68ef"),s("bff0"),s("c31d")),u=s("a142"),l=s("8624"),h=s("7744"),d=s("dfaf"),m=s("f331"),p=Object(u["h"])("collapse-item"),f=p[0],_=p[1],g=["title","icon","right-icon"],v=f({mixins:[m["a"]],props:Object(c["a"])({},d["a"],{name:[String,Number],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{items:function(){return this.parent.items},index:function(){return this.items.indexOf(this)},currentName:function(){return Object(u["c"])(this.name)?this.name:this.index},expanded:function(){var t=this;if(!this.parent)return null;var e=this.parent.value;return this.parent.accordion?e===this.currentName:e.some(function(e){return e===t.currentName})}},created:function(){this.findParent("van-collapse"),this.items.push(this),this.show=this.expanded,this.inited=this.expanded},destroyed:function(){this.items.splice(this.index,1)},watch:{expanded:function(t,e){var s=this;null!==e&&(t&&(this.show=!0,this.inited=!0),Object(l["a"])(function(){var e=s.$refs,a=e.content,i=e.wrapper;if(a&&i){var n=a.clientHeight;if(n){var r=n+"px";i.style.height=t?0:r,Object(l["a"])(function(){i.style.height=t?r:0})}else s.onTransitionEnd()}}))}},methods:{onClick:function(){if(!this.disabled){var t=this.parent,e=t.accordion&&this.currentName===t.value?"":this.currentName,s=!this.expanded;this.parent["switch"](e,s)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height=null:this.show=!1}},render:function(t){var e=this,s=g.reduce(function(t,s){return e.slots(s)&&(t[s]=function(){return e.slots(s)}),t},{});this.slots("value")&&(s["default"]=function(){return e.slots("value")});var a=t(h["a"],{class:_("title",{disabled:this.disabled,expanded:this.expanded}),on:{click:this.onClick},scopedSlots:s,props:Object(c["a"])({},this.$props)}),i=this.inited&&t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:_("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:_("content")},[this.slots()])]);return t("div",{class:[_(),{"van-hairline--top":this.index}]},[a,i])}}),C=Object(u["h"])("collapse"),b=C[0],M=C[1],w=b({props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},data:function(){return{items:[]}},methods:{switch:function(t,e){this.accordion||(t=e?this.value.concat(t):this.value.filter(function(e){return e!==t})),this.$emit("change",t),this.$emit("input",t)}},render:function(t){return t("div",{class:[M(),{"van-hairline--top-bottom":this.border}]},[this.slots()])}}),D=s("c466"),y=s("3213"),E=(s("69fa"),s("8d8c"),s("f0a2"),s("5b4d"),s("2c92"));function z(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var S={name:"Bill",components:(a={},z(a,w.name,w),z(a,v.name,v),z(a,o["a"].name,o["a"]),z(a,r["a"].name,r["a"]),z(a,"topMsg",E["a"]),a),filters:{timeToFormatDate:D["b"],parseAmount:y["a"],tradeState:function(t){return{UNPAID:"未支付",UNSETTLED:"待结算",SETTLED:"已结算",FAILED_PAY:"支付失败",FAILED_SETTLE:"结算失败",PROCESSING:"处理中"}[t]}},data:function(){return{navList:["订单","分润","提现"],currentNav:this.$util.getQueryVariable("current")?this.$util.getQueryVariable("current"):0,activeNames:"",monthSelect:"",monthPicker:!1,currentDate:null,postCurrentDate:null,minDate:new Date(2019,0,1),statusSelect:"",statusPicker:!1,currentStatus:"",statusColumns:[],isOnMonth:!1,profitsList:[],profitsLoading:!1,profitsFinished:!1,profitsError:!1,profitsPage:0,withdrawList:[],withdrawLoading:!1,withdrawFinished:!1,withdrawError:!1,withdrawPage:0,orderList:[],orderLoading:!1,orderFinished:!1,orderError:!1,orderPage:0,bonusList:[],bonusLoading:!1,bonusFinished:!1,bonusError:!1,bonusPage:0,pointsList:[],pointsLoading:!1,pointsFinished:!1,pointsError:!1,pointsPage:0,haveContent:!1,isLoading:"",orderDetail:"",sumTotalAmount:0,sumGainPointsAmount:0,sumConsumeProfitsAmount:0,state:{REMITTED:"color999",FAIL:"fail",PENDING:"success"}}},computed:{stateType:function(){return 0===this.currentNav||2===this.currentNav?"状态":"类型"}},created:function(){if(this.$route.query.type&&(this.currentStatus=this.$route.query.type),this.$route.query.time){this.currentDate=new Date(this.$route.query.time),this.postCurrentDate=this.currentDate,this.isOnMonth=!1;var t=this.$route.query.time,e=new Date(t).getFullYear(),s=new Date(t).getMonth()+1;s=String(s).length<2?"0"+s:s,this.monthSelect=e+"年"+s+"月"}this.currentNav=Number(this.currentNav),this.thisTitle(),this.statusColumnsList()},destroyed:function(){},methods:{thisTitle:function(){document.title="账单"},gotoFrontView:function(){this.$router.go(-1)},wholeMonth:function(){var t=this.currentDate,e=new Date(t).getFullYear(),s=new Date(t).getMonth()+1;s=String(s).length<2?"0"+s:s,this.monthSelect=e+"年"+s+"月",this.monthPicker=!1,this.openTouch(),this.currentDate=new Date(e,s-1),this.postCurrentDate=this.currentDate,this.isOnMonth=!0,this.fetchData(this.currentNav)},openMonthPicker:function(){this.postCurrentDate||(this.currentDate=new Date),this.monthPicker=!0,this.closeTouch()},closeMonthPicker:function(t){var e=new Date(t).getFullYear(),s=new Date(t).getMonth()+1,a=new Date(t).getDate();s=String(s).length<2?"0"+s:s,this.monthSelect=e+"年"+s+"月"+a+"日",this.monthPicker=!1,this.openTouch(),this.currentDate=new Date(e,s-1,a),this.postCurrentDate=this.currentDate,this.isOnMonth=!1,this.fetchData(this.currentNav)},fetchData:function(t){switch(t){case 0:return this.orderList=[],this.orderLoading=!0,this.orderFinished=!1,this.orderError=!1,this.orderPage=0,this.getOrderListFun();case 1:return this.profitsList=[],this.profitsLoading=!0,this.profitsFinished=!1,this.profitsError=!1,this.profitsPage=0,this.getProfitsListFun();case 2:return this.withdrawList=[],this.withdrawLoading=!0,this.withdrawFinished=!1,this.withdrawError=!1,this.withdrawPage=0,this.getWithdrawListFun();case 3:return this.bonusList=[],this.bonusLoading=!0,this.bonusFinished=!1,this.bonusError=!1,this.bonusPage=0,this.getBonusListFun();case 4:return this.pointsList=[],this.pointsLoading=!0,this.pointsFinished=!1,this.pointsError=!1,this.pointsPage=0,this.getPointsListFun()}},closeStatusPicker:function(t){console.log(t),this.statusPicker=!1,this.openTouch(),this.statusSelect=t,this.statusChange(t)},statusChange:function(t){switch(t){case"未支付":this.currentStatus="UNPAID";break;case"未结算":this.currentStatus="UNSETTLED";break;case"已结算":this.currentStatus="SETTLED";break;case"收款":this.currentStatus="FINANCIAL_LEVERAGE_GROUP";break;case"代还":this.currentStatus="FINANCIAL_REPAYMENT_GROUP";break;case"已申请":this.currentStatus="PENDING";break;case"处理中":this.currentStatus="PROCESSING";break;case"失败":this.currentStatus="FAIL";break;case"已到账":this.currentStatus="REMITTED";break;case"注册补贴":this.currentStatus=["REGISTER","AUTHENTICATION","FIRST_TRADE_SUCCESS"];break;case"实名认证补贴":this.currentStatus=["REGISTER","AUTHENTICATION","FIRST_TRADE_SUCCESS"];break;case"首次交易成功补贴":this.currentStatus=["REGISTER","AUTHENTICATION","FIRST_TRADE_SUCCESS"];break;case"积分抵扣":this.currentStatus="POINTS";break;case"管理奖":this.currentStatus="MANAGER";break;case"注册":this.currentStatus="REGISTER";break;case"实名认证":this.currentStatus="AUTHENTICATION";break;case"首次交易成功":this.currentStatus="FIRST_TRADE_SUCCESS";break;case"升级消耗":this.currentStatus="UPGRADE_CONSUME";break;case"交易成功积分抵扣":this.currentStatus="TRADE_SUCCESS_DEDUCT";break;case"手续费转化":this.currentStatus="FEE";break;case"手动奖励":this.currentStatus="MANUAL_AWARD";break;case"手动扣除":this.currentStatus="MANUAL_CONSUME";break}this.fetchData(this.currentNav)},statusColumnsList:function(){switch(this.currentNav){case 0:this.statusColumns=["未支付","未结算","已结算"];break;case 1:this.statusColumns=["收款","代还"],this.statusSelect=this.statusSelect||"收款",this.currentStatus="FINANCIAL_LEVERAGE_GROUP";break;case 2:this.statusColumns=["已申请","处理中","已到账","失败"];break;case 3:this.statusColumns=["注册补贴","实名认证补贴","首次交易成功补贴","积分抵扣","管理奖"];break;case 4:this.statusColumns=["注册","实名认证","首次交易成功","升级消耗","交易成功积分抵扣","手续费转化","手动奖励","手动扣除"];break}},getProfitsListFun:function(){var t=this;return t.$api.center.getProfitsList({page:t.profitsPage,size:10,searchDate:this.postCurrentDate&&Object(D["a"])(this.postCurrentDate,"yyyy-MM-dd"),type:this.currentStatus,isOnMonth:this.isOnMonth}).then(function(e){t.sumTotalAmount=e.data.data.aggregation.sumProfitsAmount,e.data.data.has_content?(t.profitsList=t.profitsList.concat(e.data.data.content),t.haveContent=!0,e.data.data.has_next?(t.profitsPage++,t.profitsLoading=!1):(t.profitsLoading=!1,t.profitsFinished=!0)):(t.haveContent=!1,t.profitsLoading=!1,t.profitsFinished=!0)}).catch(function(){t.profitsLoading=!1,t.profitsError=!0})},getWithdrawListFun:function(){var t=this;return t.$api.center.getWithdrawList({page:t.withdrawPage,size:10,searchDate:this.postCurrentDate&&Object(D["a"])(this.postCurrentDate,"yyyy-MM-dd"),tradeState:this.currentStatus,isOnMonth:this.isOnMonth}).then(function(e){t.sumTotalAmount=e.data.data.aggregation.sumActualAmount,e.data.data.has_content?(t.withdrawList=t.withdrawList.concat(e.data.data.content),t.haveContent=!0,e.data.data.has_next?(t.withdrawPage++,t.withdrawLoading=!1):(t.withdrawLoading=!1,t.withdrawFinished=!0)):(t.haveContent=!1,t.withdrawLoading=!1,t.withdrawFinished=!0)}).catch(function(e){console.log(e),t.withdrawLoading=!1,t.withdrawError=!0})},getOrderListFun:function(){var t=this;return t.$api.center.getTradeList({page:t.orderPage,size:10,searchDate:this.postCurrentDate&&Object(D["a"])(this.postCurrentDate,"yyyy-MM-dd"),tradeState:this.currentStatus,isOnMonth:this.isOnMonth}).then(function(e){t.sumTotalAmount=e.data.data.aggregation.sumTotalAmount,e.data.data.has_content?(t.orderList=t.orderList.concat(e.data.data.content),t.haveContent=!0,e.data.data.has_next?(t.orderPage++,t.orderLoading=!1):(t.orderLoading=!1,t.orderFinished=!0)):(t.haveContent=!1,t.orderLoading=!1,t.orderFinished=!0)}).catch(function(e){console.log(e),t.orderLoading=!1,t.orderError=!0})},getOrderDetailFun:function(t){var e=this;e.$api.center.getOrderDetail(t).then(function(t){e.orderDetail=t.data.data}).catch(function(t){console.log(t)})},toggleNav:function(){this.monthSelect="",this.currentDate=null,this.postCurrentDate=null,this.statusSelect="",this.currentStatus="",this.statusColumnsList(),this.fetchData(this.currentNav)},getBonusListFun:function(){var t=this;return t.$api.center.getBonusList({page:t.bonusPage,size:10,searchDate:this.postCurrentDate&&Object(D["a"])(this.postCurrentDate,"yyyy-MM-dd"),type:this.currentStatus,isOnMonth:this.isOnMonth}).then(function(e){t.sumTotalAmount=e.data.data.aggregation.sumBonusAmount,e.data.data.has_content?(t.bonusList=t.bonusList.concat(e.data.data.content),t.haveContent=!0,e.data.data.has_next?(t.bonusPage++,t.bonusLoading=!1):(t.bonusLoading=!1,t.bonusFinished=!0)):(t.haveContent=!1,t.bonusLoading=!1,t.bonusFinished=!0)})},getPointsListFun:function(){var t=this;return t.$api.center.getPointsList({page:t.pointsPage,size:10,searchDate:this.postCurrentDate&&Object(D["a"])(this.postCurrentDate,"yyyy-MM-dd"),type:this.currentStatus,isOnMonth:this.isOnMonth}).then(function(e){t.sumGainPointsAmount=e.data.data.aggregation.sumGainPointsAmount,t.sumConsumeProfitsAmount=e.data.data.aggregation.sumConsumeProfitsAmount,e.data.data.has_content?(t.pointsList=t.pointsList.concat(e.data.data.content),t.haveContent=!0,e.data.data.has_next?(t.pointsPage++,t.pointsLoading=!1):(t.pointsLoading=!1,t.pointsFinished=!0)):(t.haveContent=!1,t.pointsLoading=!1,t.pointsFinished=!0)})},closeTouch:function(){document.getElementsByTagName("body")[0].addEventListener("touchmove",this.handler,{passive:!1}),console.log("closeTouch haved happened.")},openTouch:function(){document.getElementsByTagName("body")[0].removeEventListener("touchmove",this.handler,{passive:!1}),console.log("openTouch haved happened.")}}},A=S,L=(s("19e7"),s("aea2"),s("2877")),x=Object(L["a"])(A,i,n,!1,null,"3426e428",null);e["default"]=x.exports},"29a4":function(t,e,s){},"2c92":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isWechat?t._e():s("div",{staticClass:"header"},[s("div",{staticClass:"header_body"},[s("span",{staticClass:"goBack",on:{click:t.goBack}},[s("van-icon",{attrs:{name:"arrow-left"}})],1),s("div",{staticClass:"flex-vertical-centering"},[s("p",{staticClass:"textEllipsis"},[t._v("\n        "+t._s(t.headerName)+"\n      ")])]),t.shareShow?s("span",{staticClass:"shareSheet",on:{click:t.shareSheet}},[t._v("分享")]):t._e()])])},i=[],n={name:"TopMsg",props:{headerName:{type:String,default:""},required:{type:Boolean,default:!0},shareShow:{type:Boolean,default:!1}},data:function(){return{}},computed:{isWechat:function(){return this.$store.state.isWechat}},created:function(){},methods:{goBack:function(){api.historyBack({frameName:""},function(t,e){t.status||this.$router.go(-1)})},shareSheet:function(){this.$emit("shareSheet")}}},r=n,o=(s("a125"),s("2877")),c=Object(o["a"])(r,a,i,!1,null,"3efa7418",null);e["a"]=c.exports},"69fa":function(t,e,s){s("a29f")},7586:function(t,e,s){},"8d8c":function(t,e,s){s("a29f"),s("29a4")},a125:function(t,e,s){"use strict";var a=s("cc0b"),i=s.n(a);i.a},aea2:function(t,e,s){"use strict";var a=s("7586"),i=s.n(a);i.a},bff0:function(t,e,s){},c466:function(t,e,s){"use strict";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss",s={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return e}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";return a(new Date(t),e)}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return a(new Date(t),e)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss";return a(new Date(t),e)}s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i}),s.d(e,"c",function(){return n}),s.d(e,"d",function(){return r})},cc0b:function(t,e,s){},d1cf:function(t,e,s){"use strict";s("68ef"),s("a526")},ee83:function(t,e,s){"use strict";var a=s("c31d"),i=s("a142"),n=s("f253"),r=s("1b10");function o(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function c(t){return("00"+t).slice(-2)}function u(t,e){var s=-1,a=Array(t);while(++s<t)a[s]=e(s);return a}function l(t){if(t){while(isNaN(parseInt(t,10)))t=t.slice(1);return parseInt(t,10)}}function h(t,e){return 32-new Date(t,e-1,32).getDate()}var d=Object(i["h"])("datetime-picker"),m=d[0],p=d[1],f=(new Date).getFullYear();e["a"]=m({props:Object(a["a"])({},r["a"],{value:null,minHour:Number,minMinute:Number,type:{type:String,default:"datetime"},showToolbar:{type:Boolean,default:!0},format:{type:String,default:"YYYY.MM.DD HH时 mm分"},formatter:{type:Function,default:function(t,e){return e}},minDate:{type:Date,default:function(){return new Date(f-10,0,1)},validator:o},maxDate:{type:Date,default:function(){return new Date(f+10,11,31)},validator:o},maxHour:{type:Number,default:23},maxMinute:{type:Number,default:59}}),data:function(){return{innerValue:this.correctValue(this.value)}},watch:{value:function(t){t=this.correctValue(t);var e="time"===this.type?t===this.innerValue:t.valueOf()===this.innerValue.valueOf();e||(this.innerValue=t,"time"===this.type&&this.updateColumnValue(t))},innerValue:function(t){this.$emit("input",t)},columns:function(){this.updateColumnValue(this.innerValue)}},computed:{ranges:function(){if("time"===this.type)return[{type:"hour",range:[this.minHour,this.maxHour]},{type:"minute",range:[this.minMinute,this.maxMinute]}];var t=this.getBoundary("max",this.innerValue),e=t.maxYear,s=t.maxDate,a=t.maxMonth,i=t.maxHour,n=t.maxMinute,r=this.getBoundary("min",this.innerValue),o=r.minYear,c=r.minDate,u=r.minMonth,l=r.minHour,h=r.minMinute,d=[{type:"year",range:[o,e]},{type:"month",range:[u,a]},{type:"day",range:[c,s]},{type:"hour",range:[l,i]},{type:"minute",range:[h,n]}];return"date"===this.type&&d.splice(3,2),"year-month"===this.type&&d.splice(2,3),d},columns:function(){var t=this,e=this.ranges.map(function(e){var s=e.type,a=e.range,i=u(a[1]-a[0]+1,function(e){var i=a[0]+e;return i=i<10?"0"+i:""+i,t.formatter(s,i)});return{values:i}});return e}},mounted:function(){this.updateColumnValue(this.innerValue)},methods:{correctValue:function(t){var e="time"!==this.type;if(e&&!o(t))t=this.minDate;else if(!t){var s=this.minHour;t=(s>10?s:"0"+s)+":00"}if(!e){var a=t.split(":"),n=a[0],r=a[1];return n=c(Object(i["g"])(n,this.minHour,this.maxHour)),r=c(Object(i["g"])(r,this.minMinute,this.maxMinute)),n+":"+r}return t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var s,a=this[t+"Date"],i=a.getFullYear(),n=1,r=1,o=0,c=0;return"max"===t&&(n=12,r=h(e.getFullYear(),e.getMonth()+1),o=23,c=59),e.getFullYear()===i&&(n=a.getMonth()+1,e.getMonth()+1===n&&(r=a.getDate(),e.getDate()===r&&(o=a.getHours(),e.getHours()===o&&(c=a.getMinutes())))),s={},s[t+"Year"]=i,s[t+"Month"]=n,s[t+"Date"]=r,s[t+"Hour"]=o,s[t+"Minute"]=c,s},onConfirm:function(){this.$emit("confirm",this.innerValue)},onChange:function(t){var e,s=this;if("time"===this.type){var a=t.getIndexes();e=a[0]+this.minHour+":"+(a[1]+this.minMinute)}else{var i=t.getValues(),n=l(i[0]),r=l(i[1]),o=h(n,r),c=l(i[2]);"year-month"===this.type&&(c=1),c=c>o?o:c;var u=0,d=0;"datetime"===this.type&&(u=l(i[3]),d=l(i[4])),e=new Date(n,r-1,c,u,d)}this.innerValue=this.correctValue(e),this.$nextTick(function(){s.$nextTick(function(){s.$emit("change",t)})})},updateColumnValue:function(t){var e=this,s=[],a=this.formatter;if("time"===this.type){var i=t.split(":");s=[a("hour",i[0]),a("minute",i[1])]}else s=[a("year",""+t.getFullYear()),a("month",c(t.getMonth()+1)),a("day",c(t.getDate()))],"datetime"===this.type&&s.push(a("hour",c(t.getHours())),a("minute",c(t.getMinutes()))),"year-month"===this.type&&(s=s.slice(0,2));this.$nextTick(function(){e.$refs.picker.setValues(s)})}},render:function(t){var e=this,s={};return Object.keys(r["a"]).forEach(function(t){s[t]=e[t]}),t(n["a"],{class:p(),ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:function(){e.$emit("cancel")}},props:Object(a["a"])({},s)})}})},f0a2:function(t,e,s){s("a29f"),s("911e")},f0b7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABcCAMAAACSh4HAAAAAeFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMyRUjlNAAAAJ3RSTlMAVWbwzIha+wz2Fmm8uKsSsq5iCMJ15jEpHvjsy5JuaEzfn0LPpIBMC3spAAACYUlEQVRo3rzQOw7CMBBF0SESxIF8SOKKJkrl/e+QgmIkXmQ39j1LOPYv3M8+1XbegxXsMTURd8vrUiOb5cXUyGhZzz410j8t55WaOSxnTA64lunYVRT9ujh9s4pu6acrTw/BKgqDXxemZ6tq9mtkWq+pab0uT7PXh0wD1zLNXOs0da3TzLVOU9c6zV13Mk1c6zRwDUzLNTAt18y0XlPTeg1N6zU0rdfQtFv9mph2j8vrqdW0Xk9X06s149fLxfTDRINrYLp0vQDTl9cbMe3XGzSt19S0XkPTeg1N6zU1rdfQtF4z0y58/JqYdm+/Rqb1GprWa58evu3Ya2+CMBiG4UcQS1WkE8tB0DFP7///h/vQ6sIGhS4cYsL1ueROmtI36bKNkBGMIimWbfhrr/dWT7C9PfzuIciCA4MzWRCIycKH+cRaiEE2ChgsyQKzC8cw+CIL3C7MfDTyGVlwn2HhGV1IuaJRScrFMwp+hVcw8kk5odGpZVO0jV0YN7Usj9AgytWKG/oNP0g5t/3FXs/hjOkP1qi1zklJu4ZZtzACUgLz7bFF17DbMVyS6Xx5pF17D+PwKhu6W/QfThhpwRoVWUDaMR0gDElPrgzxEj5cepLoIWwcP/y+yCIA2eLO/wwvo89/hP2CKvKcVWeXj3Yrq7AWFmRQhBgqDF9QI+FjkLAmj1SLn4FBw0i3VEOkGDCsXQNGFSxIgGHDWiYPnDR+kBkwQliL0tKR0inTCEAfYXtzuIUzVXgzh1FvDs/h9w2fFiO5/IRHNnn4SJNwEdMkYuxoEjsknCbAEyARMaNxxSLBN+2j/Rbxc+RoAAAAAElFTkSuQmCC"}}]);